name: Release version
on:
  release:
    type: [released]
    
jobs:
  merge-to-master:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@main
      
      - name: Merge development -> main
        run: |
          git fetch --unshallow
          git checkout ${{github.event.release.target_commitish}}
          git pull
          git checkout main
          git pull
          git merge ${{github.event.release.target_commitish}} -m "Release ${{github.event.release.tag_name}}"
          git push
